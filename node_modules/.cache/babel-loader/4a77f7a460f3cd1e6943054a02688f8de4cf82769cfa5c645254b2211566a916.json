{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";;function useSearchAPI(props){const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const baseURL='http://43.202.147.65:8000';const endPoint='/search';useEffect(()=>{const apiCall=async()=>{setLoading(true);setError(null);try{const response=await axios.get(`${baseURL}${endPoint}`,{params:{...props}});setData(response.data);}catch{setError(\"serachAPI error\");}finally{setLoading(false);}};apiCall();},[props]);return{data,loading,error};}export default useSearchAPI;","map":{"version":3,"names":["axios","useEffect","useState","useSearchAPI","props","data","setData","loading","setLoading","error","setError","baseURL","endPoint","apiCall","response","get","params"],"sources":["C:/Users/ganks/projects/jo/src/api/useSearchAPI.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport interface SearchApiProps {\r\n    location?: string,\r\n    revenue?: string,\r\n    price?: string,\r\n    categories?: string,\r\n    keyword: string,\r\n}\r\n\r\nexport interface SearchApiResponse {\r\n    brands: {\r\n        brandName: string,\r\n        brandLogo: string, //url\r\n        firstProductImg: string, //url\r\n        location: string,\r\n        revenue: string,\r\n        priceRange: string,\r\n        category: string,\r\n    }[],\r\n    solarOutput: string,\r\n}\r\n\r\nexport interface SearchApiOut {\r\n    loading: boolean,\r\n    error: string | null,\r\n    data: SearchApiResponse | null,\r\n};\r\n\r\nfunction useSearchAPI(props: SearchApiProps): SearchApiOut {\r\n    const [data, setData] = useState<SearchApiResponse | null>(null);\r\n    const [loading, setLoading] = useState<boolean>(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const baseURL = 'http://43.202.147.65:8000';\r\n    const endPoint = '/search';\r\n\r\n    useEffect(() => {\r\n        const apiCall = async () => {\r\n            setLoading(true);\r\n            setError(null);\r\n            try {\r\n                const response = await axios.get<SearchApiResponse>(`${baseURL}${endPoint}`, {params: {...props}});\r\n                setData(response.data);\r\n            } catch {\r\n                setError(\"serachAPI error\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        apiCall();\r\n    }, [props]);\r\n\r\n    return {data, loading, error};\r\n}\r\n\r\nexport default useSearchAPI;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CA2B1C,CAED,QAAS,CAAAC,YAAYA,CAACC,KAAqB,CAAgB,CACvD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGJ,QAAQ,CAA2B,IAAI,CAAC,CAChE,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGN,QAAQ,CAAU,IAAI,CAAC,CACrD,KAAM,CAACO,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAAAS,OAAO,CAAG,2BAA2B,CAC3C,KAAM,CAAAC,QAAQ,CAAG,SAAS,CAE1BX,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAY,OAAO,CAAG,KAAAA,CAAA,GAAY,CACxBL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACA,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAoB,GAAGJ,OAAO,GAAGC,QAAQ,EAAE,CAAE,CAACI,MAAM,CAAE,CAAC,GAAGZ,KAAK,CAAC,CAAC,CAAC,CAClGE,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC,CAC1B,CAAE,KAAM,CACJK,QAAQ,CAAC,iBAAiB,CAAC,CAC/B,CAAC,OAAS,CACNF,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CACDK,OAAO,CAAC,CAAC,CACb,CAAC,CAAE,CAACT,KAAK,CAAC,CAAC,CAEX,MAAO,CAACC,IAAI,CAAEE,OAAO,CAAEE,KAAK,CAAC,CACjC,CAEA,cAAe,CAAAN,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}